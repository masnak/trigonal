<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trig Functin Graph</title>
    <script>
        var ctx, degree=30;
        function init() {
            var canvas = document.getElementById("graph");
            ctx = canvas.getContext("2d");
            ctx.font = "24px sans-serif";
            paint();
        }

        function update() {
            degree = document.getElementById("theta").value;
            document.getElementById("degree").textContent = degree;
            paint();
        }

        function drawLine(x0, y0, x1, y1, color) {
            ctx.strokeStyle = color;
            ctx.beginPath();
            ctx.moveTo(x0, y0);
            ctx.lineTo(x1, y1);
            ctx.closePath();
            ctx.stroke();
        }

        function paint() {
            ctx.fillStyle = "white";
            ctx.fillRect(0, 0, 600, 600);
            ctx.save();
            ctx.translate(300, 300);

            drawLine(0, -300, 0, 300, "black");
            drawLine(-300, 0, 300, 0, "black");

            var s0 = Math.sin(degree * Math.PI / 180).toFixed(3);
            var c0 = Math.cos(degree * Math.PI / 180).toFixed(3);

            var c = c0 * 200, s = s0 * -200;

            drawLine(0, 0, c, s, "red");
            ctx.arc(0, 0, 200, 0, Math.PI * 2);
            ctx.stroke();

            // label

            drawLine(c, s, c, 0, "blue");
            ctx.strokeText("cos:" + c0, c - 10, 20);
            drawLine(c, s, 0, s, "green");
            ctx.strokeText("sin:" + s0, -40, s-10);

            ctx.restore();
        }

    </script>
</head>
<body onload="init()">
    <input id="theta" type="range" min="0" max="360" value="30"
    onchange="update()" />
    中心角=<span id="degree">30</span>度
    <br>
    <canvas id="graph" width="600" height="600"></canvas>    
</body>
</html>
